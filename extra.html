<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Video Hub</title>
  <style>
    body {
      background-color: #000;
      color: #00ff41;
      font-family: monospace;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    .controls {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    select, input {
      margin: 5px;
      padding: 5px;
    }
    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    .video-card {
      background: #111;
      padding: 10px;
      border: 1px solid #00ff41;
    }
    .watched {
      opacity: 0.5;
    }
    .dark-mode-toggle {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #111;
      color: #00ff41;
      border: 1px solid #00ff41;
      padding: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Video Archive</h1>
  <button class="dark-mode-toggle" onclick="toggleDarkMode()">Toggle Dark Mode</button>
  <div class="controls">
    <select id="categoryFilter" onchange="renderVideos()">
      <option value="">All Categories</option>
    </select>
    <input type="text" id="tagFilter" placeholder="Search tags..." oninput="renderVideos()" />
  </div>
  <div class="video-grid" id="videoGrid"></div>

  <script>
    
const videos = [
  {
    title: "Whats The Best Scriptures To Read In These Last Days?",
    filename: "lastdays.MOV",
    category: "Last Days",
    tags: ["truth", "scriptures", "days", "bible"]
  },
  {
    title: "AI and Consciousness",
    filename: "ai-consciousness.mp4",
    category: "Technology",
    tags: ["ai", "future", "consciousness"]
  },
  {
    title: "The Simulation Theory",
    filename: "simulation.mp4",
    category: "Philosophy",
    tags: ["matrix", "simulation", "truth"]
  }
];


    function getWatchedVideos() {
      return JSON.parse(localStorage.getItem("watched") || "[]");
    }

    function markWatched(filename) {
      let watched = getWatchedVideos();
      if (!watched.includes(filename)) {
        watched.push(filename);
        localStorage.setItem("watched", JSON.stringify(watched));
      }
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark");
      if (document.body.classList.contains("dark")) {
        document.body.style.backgroundColor = "#fff";
        document.body.style.color = "#000";
      } else {
        document.body.style.backgroundColor = "#000";
        document.body.style.color = "#00ff41";
      }
    }

    function renderVideos() {
      const grid = document.getElementById("videoGrid");
      const category = document.getElementById("categoryFilter").value;
      const tag = document.getElementById("tagFilter").value.toLowerCase();
      const watched = getWatchedVideos();

      const filtered = videos.filter(v =>
        (!category || v.category === category) &&
        (!tag || v.tags.some(t => t.toLowerCase().includes(tag)))
      );

      grid.innerHTML = "";
      filtered.forEach(v => {
        const isWatched = watched.includes(v.filename);
        const card = document.createElement("div");
        card.className = "video-card" + (isWatched ? " watched" : "");
        card.innerHTML = `
          <h3>{v.title}</h3>
          <video src="videos/{v.filename}" width="100%" controls 
            onplay="markWatched('{v.filename}')" 
            onfullscreenchange="markWatched('{v.filename}')">
          </video>
          <p>Category: {v.category}</p>
          <p>Tags: {v.tags.join(', ')}</p>
          <a href="videos/{v.filename}" download>⬇️ Download</a>
        `;
        grid.appendChild(card);
      });
    }

    function populateCategories() {
      const select = document.getElementById("categoryFilter");
      const categories = [...new Set(videos.map(v => v.category))];
      categories.forEach(c => {
        const opt = document.createElement("option");
        opt.value = c;
        opt.textContent = c;
        select.appendChild(opt);
      });
    }

    populateCategories();
    renderVideos();
  </script>
</body>
</html>
